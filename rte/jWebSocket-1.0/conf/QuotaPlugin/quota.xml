<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" " http://www.springframework.org/dtd/spring-beans.dtd"> 
<beans>
	
	<bean id="quotaMongoStorage" class="org.jwebsocket.plugins.quota.storage.StorageQuotaMongo">
		
		<property name="host">
			<value>localhost</value>
		</property>
		
		<property name="port">
			<value>27017</value>
		</property>
		
		<property name="databaseName">
			<value>quotaPlugin</value>
		</property>
		
		<property name="user">
			<value>adminmongo</value>
		</property>
		
		<property name="password">
			<value>adminmongo..</value>
		</property>
		
	</bean>
	
        <!-- all QuotaCountDown here -->
	<bean id="quotaCountDown" class="org.jwebsocket.plugins.quota.definitions.QuotaCountdown">
		<property name="storage" ref="quotaMongoStorage" />
		<property name="quotaType">
			<value>CountDown</value>
		</property>
		<property name="quotaIdentifier">
			<value>CountDown</value>
		</property>
		<property name="defaultReduceValue">
			<value>1</value>
		</property>
		<property name="defaultIncreaseValue"> 
			<value>1</value>
		</property>		
	</bean>
	
	<bean id="quotaCountDownReduce5" class="org.jwebsocket.plugins.quota.definitions.QuotaCountdown">
		<property name="storage" ref="quotaMongoStorage" />
		<property name="quotaType">
			<value>CountDown</value>
		</property>
		<property name="quotaIdentifier">
			<!-- This value is the quota Identifier -->
			<value>CountDownReduce5</value>
		</property>
		<property name="defaultReduceValue">
			<value>5</value>
		</property>
		<property name="defaultIncreaseValue"> 
			<value>5</value>
		</property>		
	</bean>
        <!-- End definition of QuotaCoundDown -->
	
        
        <!-- QuotaInterval definition here -->
        <bean id="quotaIntervalDaily" class="org.jwebsocket.plugins.quota.definitions.QuotaInterval">
		<property name="storage" ref="quotaMongoStorage" />
		<property name="quotaType">
			<value>Interval</value>
		</property>
		<property name="quotaIdentifier">
			<!-- This value is the quota Identifier -->
			<value>IntervalDaily</value>
		</property>
		<property name="defaultReduceValue">
			<value>1</value>
		</property>
		<property name="defaultIncreaseValue"> 
			<value>1</value>
		</property>
                <property name="interval" >
			<bean class="org.jwebsocket.plugins.quota.utils.Interval">
				<property name="startDate">
					<value>2</value>
				</property>
				<property name="endDate">
					<value>16</value>
				</property>
				<property name="strTointervalType">
                                    <value>Daily</value>
                                </property>
			</bean>
		</property> 
	</bean>
        <!-- End definitions for QuotaInterval -->
        
        <!-- QuotaInterval Diskspace definition -->
        
    <bean id="quotaDiskSpace" class="org.jwebsocket.plugins.quota.definitions.QuotaDiskSpace">
		<property name="storage" ref="quotaMongoStorage" />
		<property name="quotaType">
			<value>DiskSpace</value>
		</property>
		<property name="quotaIdentifier">
			<value>DiskSpace</value>
		</property>
		<property name="defaultReduceValue">
			<value>100</value>
		</property>
		<property name="defaultIncreaseValue">
            <!--Increase the Quota value in 500 MB -->
			<value>100</value>
		</property>		
	</bean>
        <!-- End definitions for Diskspace  -->
        
	<bean id="quotaProvider" class="org.jwebsocket.plugins.quota.utils.QuotaProvider">	
		<constructor-arg>
			<!-- In this place the administrator must especifie all the active Quota  -->
			<map>
				<!--The key must be the same value of their quota identifier -->
                <entry key="CountDown" value-ref="quotaCountDown" />
		<entry key="CountDownReduce5" value-ref="quotaCountDownReduce5" />
                <entry key="IntervalDaily" value-ref="quotaIntervalDaily" />
                <entry key="DiskSpace" value-ref="quotaDiskSpace" />
			</map>
		</constructor-arg>
		<constructor-arg>
			<map>
				<!-- add here every Storage used by any one quota -->
                <entry key="quotaMongoStorage" value-ref="quotaMongoStorage" />           
			</map>	
		</constructor-arg>
	</bean>
	
	
</beans>
